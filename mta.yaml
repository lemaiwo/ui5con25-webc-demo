_schema-version: "3.2"
ID: webcdemo
description: Generated by migration tool of Wouter Lemaire
version: 0.0.1
modules:
  - name: webcdemo-approuter
    type: approuter.nodejs
    path: approuter
    requires:
    - name: webcdemo-repo-runtime
    - name: webcdemo-uaa
    - name: webcdemo-destination-service
      group: destinations
      properties:
        forwardAuthToken: false
        name: ui5
        url: https://ui5.sap.com
    parameters:
      disk-quota: 256M
      memory: 256M
  - name: webcdemo_ui_deployer
    type: com.sap.application.content
    path: .
    requires:
    - name: webcdemo-repo-host
      parameters:
        content-target: true
    build-parameters:
      build-result: resources
      requires:
      - artifacts:
        - webcdemo.zip
        name: webcdemo
        target-path: resources/
  - name: webcdemo
    type: html5
    path: app
    build-parameters:
      build-result: dist
      builder: custom
      commands:
      - npm install
      - npm run build:cf
      supported-platforms: []
resources:
- name: webcdemo-destination-service
  type: org.cloudfoundry.managed-service
  parameters:
    config:
      HTML5Runtime_enabled: true
      init_data:
        instance:
          destinations:
          - Authentication: NoAuthentication
            Name: ui5
            ProxyType: Internet
            Type: HTTP
            URL: https://ui5.sap.com
          existing_destinations_policy: update
      version: 1.0.0
    service: destination
    service-name: webcdemo-destination-service
    service-plan: lite
- name: webcdemo-uaa
  type: org.cloudfoundry.managed-service
  parameters:
    path: ./xs-security.json
    service: xsuaa
    service-name: webcdemo-xsuaa-srv
    service-plan: application
- name: webcdemo-repo-host
  type: org.cloudfoundry.managed-service
  parameters:
    service: html5-apps-repo
    service-name: webcdemo-html5-srv
    service-plan: app-host
- name: webcdemo-repo-runtime
  type: org.cloudfoundry.managed-service
  parameters:
    service: html5-apps-repo
    service-plan: app-runtime
parameters:
  deploy_mode: html5-repo
  enable-parallel-deployments: true